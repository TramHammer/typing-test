const w = ["a",
    "ability",
    "able",
    "about",
    "above",
    "accept",
    "according",
    "account",
    "across",
    "act",
    "action",
    "activity",
    "actually",
    "add",
    "address",
    "administration",
    "admit",
    "affect",
    "after",
    "again",
    "against",
    "age",
    "agency",
    "agent",
    "ago",
    "agree",
    "agreement",
    "ahead",
    "air",
    "all",
    "allow",
    "almost",
    "alone",
    "along",
    "already",
    "also",
    "although",
    "always",
    "among",
    "amount",
    "analysis",
    "and",
    "animal",
    "another",
    "answer",
    "any",
    "anyone",
    "anything",
    "appear",
    "apply",
    "approach",
    "area",
    "argue",
    "arm",
    "around",
    "arrive",
    "art",
    "article",
    "artist",
    "as",
    "ask",
    "assume",
    "at",
    "attack",
    "attention",
    "attorney",
    "audience",
    "author",
    "authority",
    "available",
    "avoid",
    "away",
    "baby",
    "back",
    "bad",
    "bag",
    "ball",
    "bank",
    "bar",
    "base",
    "be",
    "beautiful",
    "because",
    "become",
    "bed",
    "before",
    "begin",
    "behavior",
    "behind",
    "believe",
    "benefit",
    "best",
    "better",
    "between",
    "beyond",
    "big",
    "bill",
    "billion",
    "bit",
    "black",
    "blue",
    "board",
    "body",
    "book",
    "born",
    "both",
    "box",
    "boy",
    "break",
    "bring",
    "brother",
    "budget",
    "build",
    "building",
    "business",
    "but",
    "buy",
    "by",
    "call",
    "camera",
    "campaign",
    "can",
    "candidate",
    "capital",
    "car",
    "card",
    "care",
    "career",
    "carry",
    "case",
    "catch",
    "cause",
    "cell",
    "center",
    "central",
    "century",
    "certain",
    "certainly",
    "chair",
    "challenge",
    "chance",
    "change",
    "character",
    "charge",
    "check",
    "choice",
    "choose",
    "citizen",
    "city",
    "civil",
    "claim",
    "class",
    "clear",
    "clearly",
    "close",
    "coach",
    "cold",
    "collection",
    "college",
    "color",
    "commercial",
    "common",
    "community",
    "company",
    "compare",
    "computer",
    "concern",
    "condition",
    "conference",
    "consider",
    "consumer",
    "contain",
    "continue",
    "control",
    "cost",
    "could",
    "country",
    "couple",
    "course",
    "court",
    "cover",
    "create",
    "cup",
    "current",
    "customer",
    "cut",
    "dark",
    "data",
    "day",
    "dead",
    "deal",
    "debate",
    "decade",
    "decide",
    "decision",
    "deep",
    "defense",
    "degree",
    "describe",
    "design",
    "despite",
    "detail",
    "determine",
    "develop",
    "development",
    "difference",
    "different",
    "difficult",
    "dinner",
    "direction",
    "director",
    "discover",
    "discuss",
    "discussion",
    "do",
    "doctor",
    "dog",
    "door",
    "down",
    "draw",
    "dream",
    "drive",
    "drop",
    "during",
    "each",
    "early",
    "east",
    "easy",
    "eat",
    "economic",
    "economy",
    "edge",
    "education",
    "effect",
    "effort",
    "eight",
    "either",
    "election",
    "else",
    "employee",
    "end",
    "energy",
    "enjoy",
    "enough",
    "enter",
    "entire",
    "environment",
    "environmental",
    "especially",
    "establish",
    "even",
    "evening",
    "event",
    "ever",
    "every",
    "everybody",
    "everyone",
    "everything",
    "evidence",
    "exactly",
    "example",
    "executive",
    "exist",
    "expect",
    "experience",
    "expert",
    "explain",
    "eye",
    "face",
    "fact",
    "factor",
    "fail",
    "fall",
    "family",
    "far",
    "fast",
    "father",
    "fear",
    "federal",
    "feel",
    "feeling",
    "few",
    "field",
    "fight",
    "figure",
    "fill",
    "film",
    "final",
    "finally",
    "financial",
    "find",
    "fine",
    "finish",
    "fire",
    "firm",
    "first",
    "fish",
    "five",
    "floor",
    "fly",
    "focus",
    "follow",
    "food",
    "foot",
    "for",
    "force",
    "foreign",
    "forget",
    "form",
    "former",
    "forward",
    "four",
    "free",
    "friend",
    "from",
    "front",
    "full",
    "fund",
    "future",
    "game",
    "garden",
    "gas",
    "general",
    "generation",
    "get",
    "give",
    "glass",
    "go",
    "goal",
    "good",
    "government",
    "great",
    "green",
    "ground",
    "group",
    "grow",
    "growth",
    "guess",
    "gun",
    "guy",
    "hair",
    "half",
    "hand",
    "hang",
    "happen",
    "happy",
    "have",
    "he",
    "head",
    "health",
    "hear",
    "heart",
    "heat",
    "heavy",
    "help",
    "here",
    "high",
    "history",
    "hit",
    "hold",
    "home",
    "hope",
    "hospital",
    "hotel",
    "hour",
    "house",
    "how",
    "however",
    "huge",
    "human",
    "hundred",
    "husband",
    "idea",
    "identify",
    "if",
    "image",
    "imagine",
    "impact",
    "important",
    "improve",
    "in",
    "include",
    "including",
    "increase",
    "indeed",
    "indicate",
    "individual",
    "industry",
    "information",
    "inside",
    "instead",
    "institution",
    "interest",
    "interesting",
    "international",
    "interview",
    "into",
    "investment",
    "involve",
    "issue",
    "it",
    "item",
    "its",
    "itself",
    "job",
    "join",
    "just",
    "keep",
    "key",
    "kid",
    "kind",
    "kitchen",
    "know",
    "knowledge",
    "land",
    "language",
    "large",
    "last",
    "late",
    "later",
    "laugh",
    "law",
    "lawyer",
    "lay",
    "lead",
    "learn",
    "least",
    "leave",
    "left",
    "leg",
    "less",
    "let",
    "letter",
    "level",
    "life",
    "light",
    "like",
    "likely",
    "line",
    "list",
    "listen",
    "little",
    "live",
    "local",
    "long",
    "look",
    "lose",
    "loss",
    "lot",
    "low",
    "machine",
    "magazine",
    "main",
    "maintain",
    "major",
    "majority",
    "make",
    "man",
    "manage",
    "management",
    "manager",
    "many",
    "market",
    "material",
    "matter",
    "may",
    "maybe",
    "me",
    "mean",
    "measure",
    "media",
    "medical",
    "meet",
    "meeting",
    "member",
    "memory",
    "mention",
    "message",
    "method",
    "middle",
    "might",
    "million",
    "mind",
    "minute",
    "mission",
    "model",
    "modern",
    "moment",
    "money",
    "month",
    "more",
    "morning",
    "most",
    "mother",
    "move",
    "movement",
    "movie",
    "much",
    "music",
    "must",
    "my",
    "myself",
    "name",
    "natural",
    "nature",
    "near",
    "nearly",
    "necessary",
    "need",
    "network",
    "never",
    "new",
    "news",
    "newspaper",
    "next",
    "nice",
    "night",
    "no",
    "none",
    "nor",
    "north",
    "not",
    "note",
    "nothing",
    "notice",
    "now",
    "number",
    "occur",
    "of",
    "off",
    "offer",
    "office",
    "officer",
    "official",
    "often",
    "oh",
    "oil",
    "ok",
    "old",
    "on",
    "once",
    "one",
    "only",
    "onto",
    "open",
    "operation",
    "opportunity",
    "option",
    "or",
    "order",
    "organization",
    "other",
    "others",
    "our",
    "out",
    "outside",
    "over",
    "own",
    "owner",
    "page",
    "pain",
    "painting",
    "paper",
    "parent",
    "part",
    "participant",
    "particular",
    "particularly",
    "partner",
    "party",
    "pass",
    "past",
    "patient",
    "pattern",
    "pay",
    "peace",
    "per",
    "perform",
    "performance",
    "perhaps",
    "person",
    "personal",
    "phone",
    "physical",
    "pick",
    "picture",
    "piece",
    "place",
    "plan",
    "plant",
    "play",
    "player",
    "point",
    "popular",
    "position",
    "positive",
    "possible",
    "power",
    "practice",
    "prepare",
    "present",
    "pressure",
    "pretty",
    "prevent",
    "price",
    "private",
    "probably",
    "process",
    "produce",
    "product",
    "production",
    "professional",
    "professor",
    "program",
    "project",
    "property",
    "protect",
    "prove",
    "provide",
    "public",
    "pull",
    "purpose",
    "push",
    "put",
    "quality",
    "question",
    "quickly",
    "quite",
    "radio",
    "raise",
    "range",
    "rate",
    "rather",
    "reach",
    "read",
    "ready",
    "real",
    "reality",
    "realize",
    "really",
    "reason",
    "receive",
    "recent",
    "recently",
    "recognize",
    "record",
    "red",
    "reduce",
    "reflect",
    "region",
    "relate",
    "relationship",
    "remain",
    "remember",
    "remove",
    "report",
    "represent",
    "require",
    "research",
    "resource",
    "respond",
    "response",
    "responsibility",
    "rest",
    "result",
    "return",
    "reveal",
    "right",
    "rise",
    "risk",
    "road",
    "rock",
    "role",
    "room",
    "rule",
    "run",
    "same",
    "save",
    "say",
    "scene",
    "school",
    "science",
    "scientist",
    "score",
    "sea",
    "season",
    "seat",
    "second",
    "section",
    "security",
    "see",
    "seek",
    "seem",
    "sell",
    "send",
    "senior",
    "sense",
    "series",
    "serious",
    "serve",
    "service",
    "set",
    "seven",
    "several",
    "shake",
    "share",
    "short",
    "should",
    "shoulder",
    "show",
    "side",
    "sign",
    "significant",
    "similar",
    "simple",
    "simply",
    "since",
    "sing",
    "single",
    "sit",
    "site",
    "situation",
    "six",
    "size",
    "skill",
    "skin",
    "small",
    "smile",
    "so",
    "social",
    "society",
    "soldier",
    "some",
    "somebody",
    "someone",
    "something",
    "sometimes",
    "song",
    "soon",
    "sort",
    "sound",
    "source",
    "space",
    "speak",
    "specific",
    "speech",
    "spend",
    "sport",
    "spring",
    "staff",
    "stage",
    "stand",
    "standard",
    "star",
    "start",
    "state",
    "statement",
    "station",
    "stay",
    "step",
    "still",
    "stock",
    "stop",
    "store",
    "story",
    "strategy",
    "street",
    "strong",
    "structure",
    "student",
    "study",
    "stuff",
    "style",
    "subject",
    "success",
    "successful",
    "such",
    "suddenly",
    "suffer",
    "suggest",
    "summer",
    "support",
    "sure",
    "surface",
    "system",
    "table",
    "take",
    "talk",
    "task",
    "tax",
    "teach",
    "teacher",
    "team",
    "technology",
    "television",
    "tell",
    "ten",
    "tend",
    "term",
    "test",
    "than",
    "thank",
    "that",
    "the",
    "their",
    "them",
    "themselves",
    "then",
    "theory",
    "there",
    "these",
    "they",
    "thing",
    "think",
    "third",
    "this",
    "those",
    "though",
    "thought",
    "thousand",
    "threat",
    "three",
    "through",
    "throughout",
    "throw",
    "thus",
    "time",
    "to",
    "today",
    "together",
    "tonight",
    "too",
    "top",
    "total",
    "tough",
    "toward",
    "town",
    "trade",
    "traditional",
    "training",
    "travel",
    "treat",
    "treatment",
    "tree",
    "trial",
    "trip",
    "trouble",
    "true",
    "truth",
    "try",
    "turn",
    "two",
    "type",
    "under",
    "understand",
    "unit",
    "until",
    "up",
    "upon",
    "us",
    "use",
    "usually",
    "value",
    "various",
    "very",
    "view",
    "visit",
    "voice",
    "wait",
    "walk",
    "wall",
    "want",
    "watch",
    "water",
    "way",
    "we",
    "wear",
    "week",
    "weight",
    "well",
    "what",
    "whatever",
    "when",
    "where",
    "whether",
    "which",
    "while",
    "who",
    "whole",
    "whom",
    "whose",
    "why",
    "wide",
    "will",
    "win",
    "wind",
    "window",
    "wish",
    "with",
    "within",
    "without",
    "wonder",
    "word",
    "work",
    "worker",
    "world",
    "would",
    "write",
    "writer",
    "wrong",
    "yard",
    "yeah",
    "year",
    "yes",
    "yet",
    "you",
    "young",
    "your",
    "yourself"
]
const s = [
    "From its release to November 2020, Roblox's sound effect for when a character dies was an 'oof' sound, which became a substantial part of the platform's reputation due to its status as a meme. The sound was originally produced by video game composer Tommy Tallarico for the 2000 video game Messiah, and he and Roblox entered into a copyright dispute. The dispute ended when Roblox agreed to pull the sound from their platform and replace it with another death sound, and Tallarico agreed to allow Roblox to release the sound again at a later date on its marketplace, which game developers on the platform would be able to purchase for a price of US$1.",
    'Extreme ironing (also called EI) is an extreme sport in which people take ironing boards to remote locations and iron items of clothing. According to the Extreme Ironing Bureau, extreme ironing is "the latest danger sport that combines the thrills of an extreme outdoor activity with the satisfaction of a well-pressed shirt."Part of the attraction and interest the media has shown towards extreme ironing seems to center on the issue of whether it is really a sport or not. It is widely considered to be tongue-in-cheek. Some locations where such performances have taken place include a mountainside of a difficult climb; a forest; in a canoe; while skiing or snowboarding; on top of large bronze statues; in the middle of a street; underwater; in the middle of the M1 motorway; race; while parachuting; and under the ice sheet of a frozen lake. The performances have been conducted solo or by groups.',
    "At 6:05 p.m. CDT on Wednesday, August 1, 2007, with rush hour bridge traffic moving slowly through the limited number of lanes, the central span of the bridge suddenly gave way, followed by the adjoining spans. The structure and deck collapsed into the river and onto the riverbanks below, the south part toppling 81 feet (25 m) eastward in the process. A total of 111 vehicles were involved, sending their occupants and 18 construction workers as far as 115 feet (35 m) down to the river or onto its banks. Northern sections fell into a rail yard, landing on three unoccupied and stationary freight cars. Sequential images of the collapse were taken by an outdoor security camera located at the parking lot entrance of the control facility for the Lower Saint Anthony Falls Lock and Dam. The immediate aftermath of the collapse was also captured by a Mn/DOT traffic camera that was facing away from the bridge during the collapse itself. The federal government immediately launched a National Transportation Safety Board (NTSB) investigation. NTSB chairman Mark Rosenker, along with a number of investigators, arrived on scene nine hours after the collapse. Rosenker remained in Minneapolis for nearly one week, serving as the government's designated primary interface with federal, state and local officials as well as briefing the press on the status of the investigation.",
    "Corn starch is used as a thickening agent in liquid-based foods (e.g., soup, sauces, gravies, custard), usually by mixing it with a lower-temperature liquid to form a paste or slurry. It is sometimes preferred over flour alone because it forms a translucent, rather than opaque mixture. As the starch is heated over 203 °F (95 °C), the molecular chains unravel, allowing them to collide with other starch chains to form a mesh, thickening the liquid (Starch gelatinization). However, continued boiling breaks up the molecules and thins the liquid. Cornstarch is usually included as an anticaking agent in powdered sugar (icing or confectioner's sugar). A common substitute is arrowroot starch, which replaces the same amount of corn starch. Food producers reduce production costs by adding varying amounts of corn starch to foods, for example to cheese and yogurt. Chicken nuggets with a thin outer layer of corn starch allows increased oil absorption and crispness after the latter stages of frying.",
    'If rapid combustion occurs in a confined space, enormous overpressures can build up, causing major structural damage and flying debris. The sudden release of energy from a "detonation" can produce a shockwave, either in open air or in a confined space. If the spread of flame is at subsonic speed, the phenomenon is sometimes called a "deflagration", although looser usage calls both phenomena "explosions". Dust explosions may be classified as being either "primary" or "secondary" in nature. Primary dust explosions may occur inside process equipment or similar enclosures, and are generally controlled by pressure relief through purpose-built ducting to the external atmosphere. Secondary dust explosions are the result of dust accumulation inside a building being disturbed and ignited by the primary explosion, resulting in a much more dangerous uncontrolled explosion that can affect the entire structure. Historically, fatalities from dust explosions have largely been the result of secondary dust explosions.',
    "Oog acts as the junction of the road connecting the regional capitals of Burao and Erigavo. Oog is situated on Somaliland's main road connecting towns and cities like Borama, Hargeisa, Berbera and Burao to Somalia. Oog is located 151 km (94 mi) from Burao, 100 km (62 mi) from Las Anod, and 239 km (149 mi) from Erigavo. 10 km (6.2 mi) north of Oog is the nearby town of Badweyn, home to a substantial mosque and a multiple-trunked tree that stands alongside the main road. South of Oog, in the Haud, the rare collared lark can be found as well as the native dibatag antelope. Oog is home to a Somaliland National Army base.",
    "On January 3, 1961, SL-1 was being prepared for restart after a shutdown of eleven days over the holidays. Maintenance procedures required that Rod 9 be manually withdrawn a few inches to reconnect it to its drive mechanism. At 9:01 pm, this rod was suddenly withdrawn too far, causing SL-1 to go prompt critical instantly. In four milliseconds, the heat generated by the resulting enormous power excursion caused fuel inside the core to melt and to explosively vaporize. The expanding fuel produced an extreme pressure wave that blasted water upward, striking the top of the reactor vessel with a peak pressure of 10,000 pounds per square inch (69,000 kPa). The slug of water was propelled at about 159 feet per second (48 m/s) with average pressure of around 500 pounds per square inch (3,400 kPa). This extreme form of water hammer propelled the entire reactor vessel upward at about 27 feet per second (8.2 m/s), while the shield plugs were ejected at about 85 feet per second (26 m/s). With six holes on the top of the reactor vessel, high pressure water and steam sprayed the entire room with radioactive debris from the damaged core. A later investigation concluded that the 26,000-pound (12,000 kg) (or thirteen short tons) vessel had jumped 9 feet 1 inch (2.77 m), parts of it striking the ceiling of the reactor building before settling back into its original location, and depositing insulation and gravel on the operating floor. If not for the vessel's #5 seal housing hitting the overhead crane, the pressure vessel had enough upward momentum to rise about 10 feet (3.0 m). The excursion, steam explosion, and vessel movement took two to four seconds",
    "Humans (Homo sapiens) are the most abundant and widespread species of primate, characterized by bipedalism and large, complex brains. This has enabled the development of advanced tools, culture, and language. Humans are highly social and tend to live in complex social structures composed of many cooperating and competing groups, from families and kinship networks to political states. Social interactions between humans have established a wide variety of values, social norms, and rituals, which bolster human society. Curiosity and the human desire to understand and influence the environment and to explain and manipulate phenomena have motivated humanity's development of science, philosophy, mythology, religion, and other fields of study.",
    "Grandville High School offers a wide variety of academic and extracurricular offerings, including 17 Advanced Placement courses, forensics, a competitive engineering and robotics team, jazz band, an award-winning marching band, choir, chamber and concert orchestras, symphony strings, philharmonic orchestra, theater, emergency medical technician certification, and after-school clubs such as photography club and chess club. Its AP Calculus program often receives national attention, with GHS staff training educators at the national level. Grandville High School was presented with the prestigious Blue Ribbon School Award in 2005-2006, and has had several recipients of AP Scholar and National Merit Recognition Awards. In 2012, the College Board recognized the school with its Advanced Placement District of the Year Awards—Annual Honor Roll. In 2014, U.S. News & World Report named Grandville High School to the top 3% of schools in Michigan and the top 5% in the nation in its Best High Schools rankings. The high school uses automatic response clickers in the classrooms. This technology provides instant feedback to teachers to help them find out if the students understand a concept or need further instruction. The responses are anonymous yet provide the necessary feedback."
]


const slink = [
    "https://en.wikipedia.org/wiki/Roblox#%22Oof%22_sound_effect",
    "https://en.wikipedia.org/wiki/Extreme_ironing",
    "https://en.wikipedia.org/wiki/I-35W_Mississippi_River_bridge",
    "https://en.wikipedia.org/wiki/Corn_starch",
    "https://en.wikipedia.org/wiki/Dust_explosion",
    "https://en.wikipedia.org/wiki/Oog",
    "https://en.wikipedia.org/wiki/SL-1",
    "https://en.wikipedia.org/wiki/Human",
    "https://en.wikipedia.org/wiki/Grandville_Public_Schools"
]

const stitle = [
    "Roblox",
    "Extreme Ironing",
    "I-35W Mississippi River Bridge",
    "Corn Starch",
    "Dust Explosion",
    "Oog",
    "SL-1",
    "Homosapian",
    "Grandville Public Schools"
]

function generateWords(type, list, words) {
    if (type == 0) {
        let genWords = ""
        for (let x = 0; x < words; x++) {
            let radWord = list[Math.floor(Math.random() * list.length - 1) + 1]
            genWords = genWords + radWord + " "
        }
        return genWords
    } else if (type == 1) {
        let genNum = ""
        for (let y = 0; y < words; y++) {
            let radNum = Math.floor(Math.random() * 100000) + 1
            genNum = genNum + radNum + " "
        }
        return genNum
    } else if (type == 2) {
        let index = Math.floor(Math.random() * list.length - 1) + 1
        sslect = index
        let genSent = list[index]
        return genSent
    }
}

let wcount = 0, keycount = 0, charcount, errcount, wrongword 

let timelength = 30 //timer
let x = false //debounce for timer
let orig = 0 //store timer as temp

let counter
let sd = false
let sslect = 0
let q = generateWords(0, w, 200)

window.onload = () => {
    document.getElementById("results").style.visibility = "hidden"

    document.getElementById("a").innerHTML = q
    console.log("loaded");
    
    document.getElementById("c").addEventListener("focus", (e) => {
        blinker()
        console.log("focus");
    
    })
    
    document.getElementById("c").addEventListener("blur", (e) => {
        blinker("stop")
        console.log("blur and stop");
    })
    document.getElementById("sent").addEventListener("click", function(e) {
        e.preventDefault()
        q = generateWords(2, s, 1)
        console.log("generated sentences");
        document.getElementById("a").innerHTML = q
        document.getElementById("b").innerHTML = ""
        document.getElementById("c").innerHTML = ""

        document.getElementById("material").style.visibility = "visible"
        document.getElementById("material").style.opacity = "1"
        document.getElementById("mat-link").innerHTML = stitle[sslect]
        document.getElementById("mat-link").setAttribute("href", slink[sslect])
        sd = true
    })
    
    document.getElementById("word").addEventListener("click", function(e) {
        e.preventDefault()
        q = generateWords(0, w, 2000)
        console.log("generated words");
        document.getElementById("a").innerHTML = q
        document.getElementById("b").innerHTML = ""
        document.getElementById("c").innerHTML = ""
        document.getElementById("material").style.visibility = "hidden"
        document.getElementById("material").style.opacity = "0"
        sd = false
    })
    
    document.getElementById("num").addEventListener("click", function(e) {
        e.preventDefault()
        q = generateWords(1, w, 2000)
        console.log("generated numbers");
        document.getElementById("a").innerHTML = q
        document.getElementById("b").innerHTML = ""
        document.getElementById("c").innerHTML = ""
        document.getElementById("material").style.visibility = "hidden"
        document.getElementById("material").style.opacity = "0"
        sd = false
    })

    document.getElementById("30s").addEventListener("click", function(e) {//THESE DON't WORK FOR SOME REASON AND IDK
        e.preventDefault()
        timelength = 30
        orig = 30
        document.getElementById("time").innerHTML = timelength
    })
    
    document.getElementById("60s").addEventListener("click", function(e) {//THESE DON't WORK FOR SOME REASON AND IDK
        e.preventDefault()
        timelength = 60
        orig = 60
        document.getElementById("time").innerHTML = timelength
    })
    
    document.getElementById("3600s").addEventListener("click", function(e) {//THESE DON't WORK FOR SOME REASON AND IDK
        e.preventDefault()
        timelength = 3600
        orig = 3600
        document.getElementById("time").innerHTML = timelength
    })

    document.getElementById("15s").addEventListener("click", function(e) {//THESE DON't WORK FOR SOME REASON AND IDK
        e.preventDefault()
        timelength = 15
        orig = 15
        document.getElementById("time").innerHTML = timelength
    })

    document.getElementById("31536000s").addEventListener("click", function(e) {//THESE DON't WORK FOR SOME REASON AND IDK
        e.preventDefault()
        timelength = 31536000
        orig = 31536000
        document.getElementById("time").innerHTML = timelength
    })

    document.getElementById("dark").addEventListener("click", (e) => {
        e.preventDefault()
        for (let i = 0; i < document.getElementsByTagName("a").length; i++) {
            document.getElementsByTagName("a")[i].style.color = "#ffffff"
        }
        for (let i = 0; i < document.getElementsByTagName("p").length; i++) {
            document.getElementsByTagName("p")[i].style.color = "#ffffff"
        }
        for (let i = 0; i < document.getElementsByTagName("h1").length; i++) {
            document.getElementsByTagName("h1")[i].style.color = "#ffffff"
        }
        for (let i = 0; i < document.getElementsByTagName("li").length; i++) {
            document.getElementsByTagName("li")[i].style.color = "#ffffff"
        }
        for (let i = 0; i < document.getElementsByClassName("divt").length; i++) {
            document.getElementsByClassName("divt")[i].style.backgroundColor = "rgba(0,0,0,0)"
            document.getElementsByClassName("divt")[i].style.color = "#ffffff"
        }
        document.body.style.backgroundColor = "#0D1F2D"
    })

    document.getElementById("light").addEventListener("click", (e) => {
        e.preventDefault()
        for (let i = 0; i < document.getElementsByTagName("a").length; i++) {
            document.getElementsByTagName("a")[i].style.color = "rgb(0, 8, 20)"
        }
        for (let i = 0; i < document.getElementsByTagName("p").length; i++) {
            document.getElementsByTagName("p")[i].style.color = "rgb(0, 8, 20)"
        }
        for (let i = 0; i < document.getElementsByTagName("h1").length; i++) {
            document.getElementsByTagName("h1")[i].style.color = "rgb(0, 8, 20)"
        }
        for (let i = 0; i < document.getElementsByTagName("li").length; i++) {
            document.getElementsByTagName("li")[i].style.color = "rgb(0, 8, 20)"
        }
        for (let i = 0; i < document.getElementsByClassName("divt").length; i++) {
            document.getElementsByClassName("divt")[i].style.backgroundColor = "rgba(0,0,0,0)"
            document.getElementsByClassName("divt")[i].style.color = "rgba(0,0,0,.3)"
        }
        document.body.style.backgroundColor = "#ffffff"
    })

    let debounce = false
    document.getElementById("wpm").addEventListener("click", (e) => { //THESE DON't WORK FOR SOME REASON AND IDK 
        e.preventDefault()
        if (debounce == false) {
            document.getElementById("wpm-input").style.visibility = "hidden"
            debounce = true
        } else {
            document.getElementById("wpm-input").style.visibility = "visible"
            debounce = false
        }
    })
    console.log("assigned events")
}

//c is actual typing
//a is monitor errors
//b is ??????
//d more typed text but idk what it actually is to do

function clicked() {
    let c = document.getElementById("c")
    let cpos = c.innerText.length
    let store = c
    
    let range = document.createRange()
    let selection = window.getSelection()

    if (store.childNodes[0]) {
        range.setStart(store.childNodes[0], cpos)
        range.collapse(true)
        selection.removeAllRanges()
        selection.addRange(range)
    }
}

function kyp(e) { //call this everytime keyup
    console.log("called");
    wcount = 0, charcount = 0, errcount = 0
    document.getElementById("s-top").style.visibility = "hidden";
    document.getElementById("s-top").style.opacity = "0"
    document.getElementById("results").style.visibility = "hidden";
    document.getElementById("results").style.opacity = "0"
    console.log("transitioned");
    keycount++
    if (x == false) {
        x = true
        orig = timelength
        document.getElementById("wpm-input").style.visibility = "visible"
        document.getElementById("material").style.visibility = "hidden"
        document.getElementById("material").style.opacity = "0"
        counter = setInterval(timer, 1000)
        console.log("timer started");
    }

    let txt = "", aARR, cARR, i
    let a = document.getElementById("a").innerText
    let b = document.getElementById("b").innerText
    let c = document.getElementById("c").innerText
    //wcount = c.match(/\s/g, "") ? c.match(/\s/g, "").length : 0 Not sure if this is needed
    cursorpos = c.length
    if ((keycount + 5) < c.length) {
        c = "";
        document.getElementById("c").innerText = c;
    }
    blinker();
    console.log("blinker called and started");
    for (i = 0; i < c.length; i++) {
        if (a[i] == c[i] || (a[i].charCodeAt(0) == 32 && c[i].charCodeAt(0) == 160)) {
            charcount++;
            txt =  txt + "<span class='corchar'>" + a[i] + "</span>"
            console.log("correct" );
        } else {
            errcount++;
            txt = txt + "<span class='errchar'>" + a[i] + "</span>"
            console.log("incorrect");
        }
        if (a[i] == " ") { 
            c = c.substr(0, i) + "|" + c.substr(i + 1)
        }
    }
    document.getElementById("b").innerHTML = txt + a.substr(i);
    aARR = a.split(" ");
    cARR = c.split("|");
    wrongword = 0;
    for (i = 0; i < cARR.length; i++) {
        if (cARR[i].trim() == aARR[i].trim()) {
            wcount++;
        } else {
            wrongword++;
        }
    }
}
 
function timer() {
    if (timelength <= 0) {
        clearInterval(counter)
        console.log("timer stopped");
        document.getElementById("s-top").style.visibility = "visible"
        document.getElementById("s-top").style.opacity = "1"
        timelength = orig
        console.log("transitioned");
        document.getElementById("time").innerHTML = orig
        x = false
        document.getElementById("results").style.visibility = "visible"
        document.getElementById("results").style.opacity = "1"
        if (sd == true) {
            document.getElementById("material").style.visibility = "visible"
            document.getElementById("material").style.opacity = "1"
        }
        updateResults()
        document.getElementById("a").contentEditable = false
        document.getElementById("b").contentEditable = false
        document.getElementById("c").contentEditable = false
        console.log("updated results");
        return
    }
    timelength--
    document.getElementById("time").innerHTML = timelength
    console.log("updated time");
    document.getElementById("restart").addEventListener("click", (e) => {
        console.log("timer stopped");
        e.preventDefault()
        clearInterval(counter)
        document.getElementById("s-top").style.visibility = "visible"
        document.getElementById("s-top").style.opacity = "1"
        timelength = orig
        document.getElementById("time").innerHTML = orig
        document.getElementById("a").contentEditable = true
        document.getElementById("b").contentEditable = true
        document.getElementById("c").contentEditable = true

        document.getElementById("a").innerHTML = q
        document.getElementById("b").innerHTML = ""
        document.getElementById("c").innerHTML = ""
        document.getElementById("wpm-input").style.visibility = "hidden"
        document.getElementById("wpm-input").style.opacity = "0"
        if (sd == true) {
            document.getElementById("material").style.visibility = "visible"
            document.getElementById("material").style.opacity = "1"
        }
        wcount = 0, keycount = 0, charcount = 0, errcount = 0,  wrongword = 0
        updateResults()
        console.log("transitioned and reset");
        x = false
        return
    })
}

let cursorpos = 0
let blinkstyle = ""
function blinker(active) {
    let n = cursorpos
    if (blinkstyle == "") blinkstyle = "background-color:rgba(30, 144, 255,0.2)"

    if (active == "stop") blinkstyle = ""

    document.getElementById("a").innerHTML = document.getElementById("a").innerText.substr(0, n) + "<span style='" + blinkstyle + "'>" + document.getElementById("a").innerText.substr(n, 1) + "</span>" + document.getElementById("a").innerText.substr(n + 1)

    if (active == "stop") return false
    /*
    if (blinkstyle == "background-color:rgba(30, 144, 255,0.2)") {
        blinkstyle = "background-color:none";
    } else {
        blinkstyle = "background-color:rgba(30, 144, 255,0.2)";
    }
    */
    blinkstyle = "background-color: rgba(30, 144, 255,0.2)"
    console.log("blinked");
}
function updateResults() {
    console.log(orig, wcount)
    document.getElementById("r-wpm").innerHTML = (wcount/(orig/60)) + " WPM" 
    document.getElementById("correctw").innerHTML = wcount - wrongword
    document.getElementById("incorrectw").innerHTML = wrongword
    document.getElementById("correctc").innerHTML = charcount - errcount
    document.getElementById("incorrectc").innerHTML = errcount
    document.getElementById("char").innerHTML = 100 - ((charcount - errcount)/ charcount).toFixed(2) + "%"
    console.log("updated");
}
