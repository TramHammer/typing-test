const w = ["a",
    "ability",
    "able",
    "about",
    "above",
    "accept",
    "according",
    "account",
    "across",
    "act",
    "action",
    "activity",
    "actually",
    "add",
    "address",
    "administration",
    "admit",
    "affect",
    "after",
    "again",
    "against",
    "age",
    "agency",
    "agent",
    "ago",
    "agree",
    "agreement",
    "ahead",
    "air",
    "all",
    "allow",
    "almost",
    "alone",
    "along",
    "already",
    "also",
    "although",
    "always",
    "among",
    "amount",
    "analysis",
    "and",
    "animal",
    "another",
    "answer",
    "any",
    "anyone",
    "anything",
    "appear",
    "apply",
    "approach",
    "area",
    "argue",
    "arm",
    "around",
    "arrive",
    "art",
    "article",
    "artist",
    "as",
    "ask",
    "assume",
    "at",
    "attack",
    "attention",
    "attorney",
    "audience",
    "author",
    "authority",
    "available",
    "avoid",
    "away",
    "baby",
    "back",
    "bad",
    "bag",
    "ball",
    "bank",
    "bar",
    "base",
    "be",
    "beautiful",
    "because",
    "become",
    "bed",
    "before",
    "begin",
    "behavior",
    "behind",
    "believe",
    "benefit",
    "best",
    "better",
    "between",
    "beyond",
    "big",
    "bill",
    "billion",
    "bit",
    "black",
    "blue",
    "board",
    "body",
    "book",
    "born",
    "both",
    "box",
    "boy",
    "break",
    "bring",
    "brother",
    "budget",
    "build",
    "building",
    "business",
    "but",
    "buy",
    "by",
    "call",
    "camera",
    "campaign",
    "can",
    "candidate",
    "capital",
    "car",
    "card",
    "care",
    "career",
    "carry",
    "case",
    "catch",
    "cause",
    "cell",
    "center",
    "central",
    "century",
    "certain",
    "certainly",
    "chair",
    "challenge",
    "chance",
    "change",
    "character",
    "charge",
    "check",
    "choice",
    "choose",
    "citizen",
    "city",
    "civil",
    "claim",
    "class",
    "clear",
    "clearly",
    "close",
    "coach",
    "cold",
    "collection",
    "college",
    "color",
    "commercial",
    "common",
    "community",
    "company",
    "compare",
    "computer",
    "concern",
    "condition",
    "conference",
    "consider",
    "consumer",
    "contain",
    "continue",
    "control",
    "cost",
    "could",
    "country",
    "couple",
    "course",
    "court",
    "cover",
    "create",
    "cup",
    "current",
    "customer",
    "cut",
    "dark",
    "data",
    "day",
    "dead",
    "deal",
    "debate",
    "decade",
    "decide",
    "decision",
    "deep",
    "defense",
    "degree",
    "describe",
    "design",
    "despite",
    "detail",
    "determine",
    "develop",
    "development",
    "difference",
    "different",
    "difficult",
    "dinner",
    "direction",
    "director",
    "discover",
    "discuss",
    "discussion",
    "do",
    "doctor",
    "dog",
    "door",
    "down",
    "draw",
    "dream",
    "drive",
    "drop",
    "during",
    "each",
    "early",
    "east",
    "easy",
    "eat",
    "economic",
    "economy",
    "edge",
    "education",
    "effect",
    "effort",
    "eight",
    "either",
    "election",
    "else",
    "employee",
    "end",
    "energy",
    "enjoy",
    "enough",
    "enter",
    "entire",
    "environment",
    "environmental",
    "especially",
    "establish",
    "even",
    "evening",
    "event",
    "ever",
    "every",
    "everybody",
    "everyone",
    "everything",
    "evidence",
    "exactly",
    "example",
    "executive",
    "exist",
    "expect",
    "experience",
    "expert",
    "explain",
    "eye",
    "face",
    "fact",
    "factor",
    "fail",
    "fall",
    "family",
    "far",
    "fast",
    "father",
    "fear",
    "federal",
    "feel",
    "feeling",
    "few",
    "field",
    "fight",
    "figure",
    "fill",
    "film",
    "final",
    "finally",
    "financial",
    "find",
    "fine",
    "finish",
    "fire",
    "firm",
    "first",
    "fish",
    "five",
    "floor",
    "fly",
    "focus",
    "follow",
    "food",
    "foot",
    "for",
    "force",
    "foreign",
    "forget",
    "form",
    "former",
    "forward",
    "four",
    "free",
    "friend",
    "from",
    "front",
    "full",
    "fund",
    "future",
    "game",
    "garden",
    "gas",
    "general",
    "generation",
    "get",
    "give",
    "glass",
    "go",
    "goal",
    "good",
    "government",
    "great",
    "green",
    "ground",
    "group",
    "grow",
    "growth",
    "guess",
    "gun",
    "guy",
    "hair",
    "half",
    "hand",
    "hang",
    "happen",
    "happy",
    "have",
    "he",
    "head",
    "health",
    "hear",
    "heart",
    "heat",
    "heavy",
    "help",
    "here",
    "high",
    "history",
    "hit",
    "hold",
    "home",
    "hope",
    "hospital",
    "hotel",
    "hour",
    "house",
    "how",
    "however",
    "huge",
    "human",
    "hundred",
    "husband",
    "idea",
    "identify",
    "if",
    "image",
    "imagine",
    "impact",
    "important",
    "improve",
    "in",
    "include",
    "including",
    "increase",
    "indeed",
    "indicate",
    "individual",
    "industry",
    "information",
    "inside",
    "instead",
    "institution",
    "interest",
    "interesting",
    "international",
    "interview",
    "into",
    "investment",
    "involve",
    "issue",
    "it",
    "item",
    "its",
    "itself",
    "job",
    "join",
    "just",
    "keep",
    "key",
    "kid",
    "kind",
    "kitchen",
    "know",
    "knowledge",
    "land",
    "language",
    "large",
    "last",
    "late",
    "later",
    "laugh",
    "law",
    "lawyer",
    "lay",
    "lead",
    "learn",
    "least",
    "leave",
    "left",
    "leg",
    "less",
    "let",
    "letter",
    "level",
    "life",
    "light",
    "like",
    "likely",
    "line",
    "list",
    "listen",
    "little",
    "live",
    "local",
    "long",
    "look",
    "lose",
    "loss",
    "lot",
    "low",
    "machine",
    "magazine",
    "main",
    "maintain",
    "major",
    "majority",
    "make",
    "man",
    "manage",
    "management",
    "manager",
    "many",
    "market",
    "material",
    "matter",
    "may",
    "maybe",
    "me",
    "mean",
    "measure",
    "media",
    "medical",
    "meet",
    "meeting",
    "member",
    "memory",
    "mention",
    "message",
    "method",
    "middle",
    "might",
    "million",
    "mind",
    "minute",
    "mission",
    "model",
    "modern",
    "moment",
    "money",
    "month",
    "more",
    "morning",
    "most",
    "mother",
    "move",
    "movement",
    "movie",
    "much",
    "music",
    "must",
    "my",
    "myself",
    "name",
    "natural",
    "nature",
    "near",
    "nearly",
    "necessary",
    "need",
    "network",
    "never",
    "new",
    "news",
    "newspaper",
    "next",
    "nice",
    "night",
    "no",
    "none",
    "nor",
    "north",
    "not",
    "note",
    "nothing",
    "notice",
    "now",
    "number",
    "occur",
    "of",
    "off",
    "offer",
    "office",
    "officer",
    "official",
    "often",
    "oh",
    "oil",
    "ok",
    "old",
    "on",
    "once",
    "one",
    "only",
    "onto",
    "open",
    "operation",
    "opportunity",
    "option",
    "or",
    "order",
    "organization",
    "other",
    "others",
    "our",
    "out",
    "outside",
    "over",
    "own",
    "owner",
    "page",
    "pain",
    "painting",
    "paper",
    "parent",
    "part",
    "participant",
    "particular",
    "particularly",
    "partner",
    "party",
    "pass",
    "past",
    "patient",
    "pattern",
    "pay",
    "peace",
    "per",
    "perform",
    "performance",
    "perhaps",
    "person",
    "personal",
    "phone",
    "physical",
    "pick",
    "picture",
    "piece",
    "place",
    "plan",
    "plant",
    "play",
    "player",
    "point",
    "popular",
    "position",
    "positive",
    "possible",
    "power",
    "practice",
    "prepare",
    "present",
    "pressure",
    "pretty",
    "prevent",
    "price",
    "private",
    "probably",
    "process",
    "produce",
    "product",
    "production",
    "professional",
    "professor",
    "program",
    "project",
    "property",
    "protect",
    "prove",
    "provide",
    "public",
    "pull",
    "purpose",
    "push",
    "put",
    "quality",
    "question",
    "quickly",
    "quite",
    "radio",
    "raise",
    "range",
    "rate",
    "rather",
    "reach",
    "read",
    "ready",
    "real",
    "reality",
    "realize",
    "really",
    "reason",
    "receive",
    "recent",
    "recently",
    "recognize",
    "record",
    "red",
    "reduce",
    "reflect",
    "region",
    "relate",
    "relationship",
    "remain",
    "remember",
    "remove",
    "report",
    "represent",
    "require",
    "research",
    "resource",
    "respond",
    "response",
    "responsibility",
    "rest",
    "result",
    "return",
    "reveal",
    "right",
    "rise",
    "risk",
    "road",
    "rock",
    "role",
    "room",
    "rule",
    "run",
    "same",
    "save",
    "say",
    "scene",
    "school",
    "science",
    "scientist",
    "score",
    "sea",
    "season",
    "seat",
    "second",
    "section",
    "security",
    "see",
    "seek",
    "seem",
    "sell",
    "send",
    "senior",
    "sense",
    "series",
    "serious",
    "serve",
    "service",
    "set",
    "seven",
    "several",
    "shake",
    "share",
    "short",
    "should",
    "shoulder",
    "show",
    "side",
    "sign",
    "significant",
    "similar",
    "simple",
    "simply",
    "since",
    "sing",
    "single",
    "sit",
    "site",
    "situation",
    "six",
    "size",
    "skill",
    "skin",
    "small",
    "smile",
    "so",
    "social",
    "society",
    "soldier",
    "some",
    "somebody",
    "someone",
    "something",
    "sometimes",
    "song",
    "soon",
    "sort",
    "sound",
    "source",
    "space",
    "speak",
    "specific",
    "speech",
    "spend",
    "sport",
    "spring",
    "staff",
    "stage",
    "stand",
    "standard",
    "star",
    "start",
    "state",
    "statement",
    "station",
    "stay",
    "step",
    "still",
    "stock",
    "stop",
    "store",
    "story",
    "strategy",
    "street",
    "strong",
    "structure",
    "student",
    "study",
    "stuff",
    "style",
    "subject",
    "success",
    "successful",
    "such",
    "suddenly",
    //"suffer",
    "suggest",
    "summer",
    "support",
    "sure",
    "surface",
    "system",
    "table",
    "take",
    "talk",
    "task",
    "tax",
    "teach",
    "teacher",
    "team",
    "technology",
    "television",
    "tell",
    "ten",
    "tend",
    "term",
    "test",
    "than",
    "thank",
    "that",
    "the",
    "their",
    "them",
    "themselves",
    "then",
    "theory",
    "there",
    "these",
    "they",
    "thing",
    "think",
    "third",
    "this",
    "those",
    "though",
    "thought",
    "thousand",
    "threat",
    "three",
    "through",
    "throughout",
    "throw",
    "thus",
    "time",
    "to",
    "today",
    "together",
    "tonight",
    "too",
    "top",
    "total",
    "tough",
    "toward",
    "town",
    "trade",
    "traditional",
    "training",
    "travel",
    "treat",
    "treatment",
    "tree",
    "trial",
    "trip",
    "trouble",
    "true",
    "truth",
    "try",
    "turn",
    "two",
    "type",
    "under",
    "understand",
    "unit",
    "until",
    "up",
    "upon",
    "us",
    "use",
    "usually",
    "value",
    "various",
    "very",
    "view",
    "visit",
    "voice",
    "wait",
    "walk",
    "wall",
    "want",
    "watch",
    "water",
    "way",
    "we",
    "wear",
    "week",
    "weight",
    "well",
    "what",
    "whatever",
    "when",
    "where",
    "whether",
    "which",
    "while",
    "who",
    "whole",
    "whom",
    "whose",
    "why",
    "wide",
    "will",
    "win",
    "wind",
    "window",
    "wish",
    "with",
    "within",
    "without",
    "wonder",
    "word",
    "work",
    "worker",
    "world",
    "would",
    "write",
    "writer",
    "wrong",
    "yard",
    "yeah",
    "year",
    "yes",
    "yet",
    "you",
    "young",
    "your",
    "yourself"
]
const s = ["The quick brown fox jumps over the lazy dog.",
"The Papuan mountain pigeon (Gymnophaps albertisii) is a species of bird in the pigeon family Columbidae. It is found in the Bacan Islands, New Guinea, the D'Entrecasteaux Islands, and the Bismarck Archipelago, where it inhabits primary forest, montane forest, and lowlands. It is a medium-sized species of pigeon, being 33-36 cm (13-14 in) long and weighing 259 g (9.1 oz) on average. Adult males have slate-grey upperparts, chestnut-maroon throats and bellies, whitish breasts, and a pale grey terminal tail band. The lores and orbital region are bright red. Females are similar, but have grayish breasts and grey edges to the throat feathers.",
"For two electrical systems to be synchronized, both systems must operate at the same frequency, and the phase angle between the systems must be zero (and two polyphase systems must have the same phase sequence). Synchroscopes measure and display the frequency difference and phase angle between two power systems. Only when these two quantities are zero is it safe to connect the two systems together. Connecting two unsynchronized AC power systems together is likely to cause high currents to flow, which will severely damage any equipment not protected by fuses or circuit breakers.",
"Once upon a time there was an old mother pig who had three little pigs and not enough food to feed them. So when they were old enough, she sent them out into the world to seek their fortunes.The first little pig was very lazy. He didn't want to work at all and he built his house out of straw. The second little pig worked a little bit harder but he was somewhat lazy too and he built his house out of sticks. Then, they sang and danced and played together the rest of the day.",
"The third little pig worked hard all day and built his house with bricks. It was a sturdy house complete with a fine fireplace and chimney. It looked like it could withstand the strongest winds. The next day, a wolf happened to pass by the lane where the three little pigs lived; and he saw the straw house, and he smelled the pig inside. He thought the pig would make a mighty fine meal and his mouth began to water.",
'A touch typist starts by placing their fingers on the "start position" in the middle row and knows which finger to move and how much to move it for reaching any required key. Learning typically includes first printing exercises containing only letters on or near the standard position and then gradually mastering other rows. It is important to learn placing fingers into the start position blindly as the hands are frequently raised from the keyboard to operate the line feed lever (in the past) or (more recently) the computer mouse. The keys F and J frequently contain some surface features that allow the typist to recognize them by touch alone, thus removing the need to look down at the keys to reset the fingers at the home row.',
'Extreme ironing (also called EI) is an extreme sport in which people take ironing boards to remote locations and iron items of clothing. According to the Extreme Ironing Bureau, extreme ironing is "the latest danger sport that combines the thrills of an extreme outdoor activity with the satisfaction of a well-pressed shirt." Part of the attraction and interest the media has shown towards extreme ironing seems to center on the issue of whether it is really a sport or not. It is widely considered to be tongue-in-cheek.',
"Sequential images of the collapse were taken by an outdoor security camera located at the parking lot entrance of the control facility for the Lower Saint Anthony Falls Lock and Dam. The immediate aftermath of the collapse was also captured by a Mn/DOT traffic camera that was facing away from the bridge during the collapse itself. The federal government immediately launched a National Transportation Safety Board (NTSB) investigation. NTSB chairman Mark Rosenker, along with a number of investigators, arrived on scene nine hours after the collapse. Rosenker remained in Minneapolis for nearly one week, serving as the government's designated primary interface with federal, state and local officials as well as briefing the press on the status of the investigation.",
"M-6, or the Paul B. Henry Freeway, is a 19.7-mile-long (31.7 km) east-west freeway and state trunkline highway in the United States that serves portions of southern Kent and eastern Ottawa counties south of Grand Rapids, Michigan. Although the freeway is named for Paul B. Henry, local residents and the press continue to use the original name, South Beltline as well on occasion. The freeway connects Interstate 196 (I-196) on the west with I-96 on the east. M-6 also provides a connection to U.S. Highway 131 (US 131) in the middle of its corridor while running through several townships on the south side of the Grand Rapids metropolitan area in Western Michigan. Each end is in a rural area while the central section has suburban development along the trunkline.",
"Down in the street the wind flapped the torn poster to and fro, and the word INGSOC fitfully appeared and vanished. Ingsoc. The sacred principles of Ingsoc. Newspeak, doublethink, the mutability of the past. He felt as though he were wandering in the forests of the sea bottom, lost in a monstrous world where he himself was the monster. He was alone. The past was dead, the future was unimaginable. What certainty had he that a single human creature now living was on his side? And what way of knowing that the dominion of the Party would not endure FOR EVER?",
"He put the white knight back in its place, but for the moment he could not settle down to serious study of the chess problem. His thoughts wandered again. Almost unconsciously he traced with his finger in the dust on the table: 2+2=5 'They can't get inside you,' she had said.",
"From its release to November 2020, Roblox's sound effect for when a character dies was an 'oof' sound, which became a substantial part of the platform's reputation due to its status as a meme. The sound was originally produced by video game composer Tommy Tallarico for the 2000 video game Messiah, and he and Roblox entered into a copyright dispute. The dispute ended when Roblox agreed to pull the sound from their platform and replace it with another death sound, and Tallarico agreed to allow Roblox to release the sound again at a later date on its marketplace, which game developers on the platform would be able to purchase for a price of $1.",
"The Deepwater Horizon drilling rig explosion was an April 20, 2010 explosion and subsequent fire on the Deepwater Horizon semi-submersible mobile offshore drilling unit, which was owned and operated by Transocean and drilling for BP in the Macondo Prospect oil field about 40 miles (64 km) southeast off the Louisiana coast. The explosion and subsequent fire resulted in the sinking of the Deepwater Horizon and the deaths of 11 workers; 17 others were injured. The same blowout that caused the explosion also caused an oil well fire and a massive offshore oil spill in the Gulf of Mexico, considered the largest accidental marine oil spill in the world, and the largest environmental disaster in U.S. history.",
"Maple syrup is a syrup usually made from the xylem sap of sugar maple, red maple, or black maple trees, although it can also be made from other maple species. In cold climates, these trees store starch in their trunks and roots before winter; the starch is then converted to sugar that rises in the sap in late winter and early spring. Maple trees are tapped by drilling holes into their trunks and collecting the sap, which is processed by heating to evaporate much of the water, leaving the concentrated syrup.",
"По данным ООН на 27 мая, с начала вторжения погибли не менее 4031 и были ранены не менее 4735 мирных жителей, причём реальные потери, как предполагается, гораздо выше; были разрушены или повреждены сотни домов; город Волноваха к началу марта был уничтожен почти полностью. По сообщениям ООН и международных гуманитарных организаций Amnesty International и Human Rights Watch, российские войска наносят неизбирательные ракетные удары по жилым кварталам, больницам и прочим объектам социальной инфраструктуры Украины. Также фиксируются удары по жилым районам в ДНР и ЛНР с гибелью мирных жителей.",
"六四事件"
]

function generateWords(type, list, words) {
    if (type == 0) {
        let genWords = ""
        for (let x = 0; x < words; x++) {
            let radWord = list[Math.floor(Math.random() * list.length - 1) + 1]
            genWords = genWords + radWord + " "
        }
        return genWords
    } else if (type == 1) {
        let genNum = ""
        for (let y = 0; y < words; y++) {
            let radNum = Math.floor(Math.random() * 100000) + 1
            genNum = genNum + radNum + " "
        }
        return genNum
    } else if (type == 2) {
        let genSent = list[Math.floor(Math.random() * list.length - 1) + 1]
        return genSent
    }
}



/* This is for words counted not words per rounds per minute

function typingtest(kys) {
    let bs = kys.match(/\s/g, "")
    let words = bs ? bs.length : 0

    document.getElementById("wpm-input").innerHTML = words + " WPM"
}
*/

let wcount = 0, keycount = 0, charcount, errcount, wrongword 

let timelength = 30 //timer
let x = false //debounce for timer
let orig = 0 //store timer as temp

let counter

let ascii

window.addEventListener("load", (e) => {
    let x = generateWords(0, w, 200)
    document.getElementById("a").innerHTML = x
    document.getElementById("c").focus
    console.log("loaded");
})

document.getElementById("c").addEventListener("focus", (e) => {
    blinker()
    console.log("focus");

})

document.getElementById("c").addEventListener("blur", (e) => {
    window.clearTimeout(blinktimeout);
    blinker("stop")
    console.log("blur and stop");
})

//c is actual typing
//a is monitor errors
//b is ??????
//d more typed text but idk what it actually is to do

function clicked() {
    let c = document.getElementById("c")
    let cpos = c.innerText.length
    let store = c
    
    let range = document.createRange()
    let selection = window.getSelection()

    if (store.childNodes[0]) {
        range.setStart(store.childNodes[0], cpos)
        range.collapse(true)
        selection.removeAllRanges()
        selection.addRange(range)
    }
}

function kyp(e) { //call this everytime keyup
    console.log("called");
    wcount = 0, charcount = 0, errcount = 0
    document.getElementById("s-top").style.visibility = "hidden";
    document.getElementById("s-top").style.opacity = "0"
    document.getElementById("results").style.visibility = "hidden";
    document.getElementById("results").style.opacity = "0"
    console.log("transitioned");
    keycount++
    if (x == false) {
        x = true
        counter = setInterval(timer, 1000)
        console.log("timer started");
    }

    let txt = "", aARR, cARR, i
    let a = document.getElementById("a").innerText
    let b = document.getElementById("b").innerText
    let c = document.getElementById("c").innerText
    wcount = c.match(/\s/g, "") ? c.match(/\s/g, "").length : 0
    cursorpos = c.length
    if ((keycount + 5) < c.length) {
        c = "";
        document.getElementById("ctext").innerText = c;
    }
    window.clearTimeout(blinktimeout)
    blinker();
    console.log("blinker called and started");
    for (i = 0; i < c.length; i++) {
        if (a[i] == c[i] || (a[i].charCodeAt(0) == 32 && c[i].charCodeAt(0) == 160)) {
            charcount++;
            txt =  txt + "<span class='corchar'>" + a[i] + "</span>"
            console.log("correct", txt );
        } else {
            errcount++;
            txt = txt + "<span class='errchar'>" + a[i] + "</span>"
            console.log("incorrect", txt);
        }
        if (a[i] == " ") { 
            c = c.substr(0, i) + "|" + c.substr(i + 1)
        }
    }
    document.getElementById("b").innerHTML = txt + a.substr(i);
    aARR = a.split(" ");
    cARR = c.split("|");
    wrongword = 0;
    for (i = 0; i < cARR.length; i++) {
        if (cARR[i].trim() == aARR[i].trim()) {
            wcount++;
        } else {
            wrongword++;
        }
    }
}

function kyd(e) {
    var cARR = [33, 34, 35, 36, 37, 38, 39, 40];
    if (window.event) { // IE                    
        keynum = e.keyCode;
    } else if (e.which) {
        keynum = e.which;
    }
    if (cARR.indexOf(keynum) > -1) {
        e.preventDefault();
        return false;
    }
    if (keynum == 86 && e.ctrlKey) {
        e.preventDefault();
        return false;
    }

}

function timer() {
    if (timelength <= 0) {
        clearInterval(counter)
        console.log("timer stopped");
        document.getElementById("s-top").style.visibility = "visible"
        document.getElementById("s-top").style.opacity = "1"
        timelength = orig
        console.log("transitioned");
        document.getElementById("time").innerHTML = orig
        x = false
        document.getElementById("results").style.visibility = "visible"
        document.getElementById("results").style.opacity = "1"
        updateResults()
        console.log("updated results");
        return
    }
    timelength--
    document.getElementById("time").innerHTML = timelength
    console.log("updated time");
    document.getElementById("restart").addEventListener("click", (e) => {
        console.log("timer stopped");
        e.preventDefault()
        clearInterval(counter)
        document.getElementById("s-top").style.visibility = "visible"
        document.getElementById("s-top").style.opacity = "1"
        timelength = orig
        document.getElementById("time").innerHTML = orig
        console.log("transitioned and reset");
        x = false
        return
    })
}

let cursorpos = 0
let blinktimeout, blinkstyle = ""
function blinker(active) {
    let n = cursorpos
    if (blinkstyle == "") blinkstyle = "background-color:rgba(30, 144, 255,0.2)"

    if (active == "stop") blinkstyle = ""

    document.getElementById("a").innerHTML = document.getElementById("a").innerText.substr(0, n) + "<span style='" + blinkstyle + "'>" + document.getElementById("a").innerText.substr(n, 1) + "</span>" + document.getElementById("a").innerText.substr(n + 1)

    if (active == "stop") return false

    if (blinkstyle == "background-color:rgba(30, 144, 255,0.2)") {
        blinkstyle = "background-color:none";
    } else {
        blinkstyle = "background-color:rgba(30, 144, 255,0.2)";
    }
    blinktimeout = window.setTimeout(blinker, 530);
    console.log("blinked");
}
function updateResults() {
    document.getElementById("r-wpm").innerHTML = 1
    document.getElementById("correctw").innerHTML = wcount
    document.getElementById("incorrectw").innerHTML = errcount
    document.getElementById("char").innerHTML = wcount + " Words"
    document.getElementById("totchar").innerHTML = keycount + " Characters"
    console.log("updated");
}


document.getElementById("sent").addEventListener("click", (e) => {
    e.preventDefault()
    document.getElementById("a").innerHTML = generateWords(2, s, 1)
    document.getElementById("a").innerHTML = generateWords(2, s, 1)
})

document.getElementById("word").addEventListener("click", (e) => {
    e.preventDefault()
    document.getElementById("a").innerHTML = generateWords(0, w, 2000)
    document.getElementById("a").innerHTML = generateWords(0, w, 2000)
})

document.getElementById("num").addEventListener("click", (e) => {
    e.preventDefault()
    document.getElementById("a").innerHTML = generateWords(1, w, 2000)
    document.getElementById("a").innerHTML = generateWords(1, w, 2000)
})

document.getElementById("30").addEventListener("click", (e) => {
    e.preventDefault()
    timelength = 30
    orig = 30
    document.getElementById("time").innerHTML = timelength
})

document.getElementById("60").addEventListener("click", (e) => {
    e.preventDefault()
    timelength = 60
    orig = 60
    document.getElementById("time").innerHTML = timelength
})

document.getElementById("3600").addEventListener("click", (e) => {
    e.preventDefault()
    timelength = 3600
    orig = 3600
    document.getElementById("time").innerHTML = timelength
})

document.getElementById("dark").addEventListener("click", (e) => {
    e.preventDefault()
    for (let i = 0; i < document.getElementsByTagName("a").length; i++) {
        document.getElementsByTagName("a")[i].style.color = "#ffffff"
    }
    for (let i = 0; i < document.getElementsByTagName("p").length; i++) {
        document.getElementsByTagName("p")[i].style.color = "#ffffff"
    }
    for (let i = 0; i < document.getElementsByTagName("h1").length; i++) {
        document.getElementsByTagName("h1")[i].style.color = "#ffffff"
    }
    for (let i = 0; i < document.getElementsByTagName("li").length; i++) {
        document.getElementsByTagName("li")[i].style.color = "#ffffff"
    }
    document.body.style.backgroundColor = "#0D1F2D"
})

let debounce = false
let debounce1 = false
document.getElementById("wpm").addEventListener("click", (e) => {
    e.preventDefault()
    if (debounce == false) {
        document.getElementById("wpm-input").style.visibility = "hidden"
        debounce = true
    } else {
        document.getElementById("wpm-input").style.visibility = "visible"
        debounce = false
    }
})

document.getElementById("accuracy").addEventListener("click", (e) => {
    e.preventDefault()
    if (debounce1 == false) {
        document.getElementById("accuracy-input").style.visibility = "hidden"
        document.getElementById("accuracy-input").style.opacity = "0"
        debounce1 = true
    } else {
        document.getElementById("accuracy-input").style.visibility = "visible"
        document.getElementById("accuracy-input").style.opacity = "1"
        debounce1 = false
    }
})
